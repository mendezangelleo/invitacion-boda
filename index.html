<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nuestra Boda - Anyela & Angel</title>

  <!-- Favicons / manifest -->
  <link rel="icon" href="img/Logo definitivo.png" type="image/png">
  <link rel="apple-touch-icon" href="img/Logo definitivo.png">
  <link rel="manifest" href="manifest.webmanifest">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@700&family=Merriweather:wght@300;700&family=Orbitron:wght@700&family=Playfair+Display:wght@700&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

  <style>
    /* ============ Paleta portada (Código 1) ============ */
    :root{
      --color-fondo:#fbf8f2;
      --color-primario:#4A9471;
      --color-secundario:#000;
      --color-texto:#3a3a3a;
      --color-texto-claro:#fbf8f2;
      --color-lazo:#928511;
      --color-verde-pasaporte:#79D1B0;
      --color-letras-portada:#04251a;

      /* interior */
      --font-title:'Playfair Display',serif;
      --font-body:'Montserrat',sans-serif;
      --color-cream:#FAF8F1;
      --color-beige:#EAE0D5;
      --color-olive:#556B2F;
      --color-eucalyptus:#A9C4A4;
      --color-text-dark:#3a3a3a;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:'Merriweather',serif;
      background:var(--color-fondo);
      color:var(--color-texto);
      line-height:1.6;
      overflow-x:hidden;
      perspective:1000px;
    }
    .no-scroll{overflow:hidden}

    /* ====== PORTADA ====== */
    .passport-cover{
      height:100svh; background:var(--color-verde-pasaporte); color:var(--color-secundario);
      display:flex; flex-direction:column; align-items:center; text-align:center;
      border:3px solid var(--color-primario);
      transition: transform 1.2s ease-in-out .4s, opacity .9s ease-out .4s, visibility .9s ease-out .4s;
      visibility:visible; opacity:1; position:fixed; inset:0; z-index:100; transform-origin:left center;
    }
    .passport-cover.is-open{ transform:rotateY(-90deg) scale(.92); opacity:0; visibility:hidden; }
    .passport-cover .passport-names.top{
      font-family:'Dancing Script',cursive; font-size:2.6rem; padding:6px 16px;
      position:absolute; top:24px; left:50%; transform:translateX(-50%);
      border-bottom:3px #0e444073 solid; border-top:3px #0e444073 solid; white-space:nowrap;
      color:var(--color-letras-portada);
    }
    .passport-central-content{ position:relative; display:flex; flex-direction:column; justify-content:center; align-items:center; flex:1; width:100%; padding-top:clamp(60px,10vh,150px); padding-bottom:clamp(40px,8vh,120px); }
    .world-map-background-svg{ position:absolute; inset:0; z-index:0; opacity:.15; color:var(--color-primario); pointer-events:none; }
    .world-map-background-svg img{ width:100%; height:100%; object-fit:cover; }
    .compass-svg{ position:absolute; inset:0; display:flex; justify-content:center; align-items:center; z-index:1; pointer-events:none; color:var(--color-primario); }
    .compass-svg svg{ width:100%; height:100%; max-width:520px; max-height:520px; opacity:.3; object-fit:contain; }
    .twine-wrapper{ position:absolute; top:50%; left:0; width:100%; transform:translateY(-50%); z-index:10; transition:opacity .4s ease; }
    .twine-line{ width:100%; height:3px; background:var(--color-lazo); box-shadow:0 1px 1px rgba(0,0,0,.2) }
    .twine-line:first-child{ margin-bottom:5px }
    .plane-charm-button{ position:absolute; top:50%; left:50%; z-index:20; transform:translate(-50%,-50%); padding:10px; -webkit-tap-highlight-color:transparent }
    .plane-charm-button .plane-svg{ width:150px; height:150px; filter:drop-shadow(2px 4px 5px rgba(0,0,0,.3)); display:block; fill:var(--color-letras-portada) }
    /* vuelo simple sin corazones */
    @keyframes flyOut{ 0%{transform:translate(-50%,-50%) scale(1)} 70%{transform:translate(-10%,-120%) scale(.9)} 100%{transform:translate(100%,-200%) scale(.8); opacity:0} }
    .plane-charm-button.is-flying{ animation:flyOut 1.2s ease-in-out forwards }
    .passport-text-group{ position:absolute; inset:0; display:flex; align-items:center; justify-content:center; flex-direction:column; pointer-events:none; }
    .passport-word{ font-family:'Playfair Display',serif; font-size:2.5rem; color:rgb(180,150,66); text-transform:uppercase; }
    .passport-word.top{ margin-bottom:70px } .passport-word.bottom{ margin-top:70px }
    .passport-year{ font-family:'Playfair Display',serif; font-size:1.2rem; color:rgb(192,153,46); position:absolute; bottom:80px }
    .scroll-down{ padding-bottom:22px; font-size:1.2rem; color:var(--color-letras-portada); z-index:30; font-family:'Dancing Script',cursive }

    /* ====== INTERIOR ====== */
    #invitation-content{ width:100%; max-width:700px; margin:0 auto; position:relative; z-index:10; background:rgba(250,248,241,.92); opacity:0; transition:opacity 1s ease .2s }
    #invitation-content.is-visible{ opacity:1 }
    .section{ padding:4rem 2rem; text-align:center; border-bottom:1px solid var(--color-beige) }
    .section:last-child{ border-bottom:none }
    .names-title{ font-family:var(--font-title); font-size:3rem; color:var(--color-olive); margin-bottom:1.2rem }
    .intro-phrase{ font-size:1.1rem; font-weight:300; max-width:500px; margin:0 auto }
    #intro img{ width:100%; max-width:400px; height:auto; border-radius:8px; box-shadow:0 4px 15px rgba(0,0,0,.1); margin-bottom:2rem }

    .date-container{ font-family:var(--font-title); color:var(--color-olive); margin-bottom:2rem }
    .date-top-line{ font-size:1.5rem; display:flex; justify-content:center; gap:1rem }
    .date-day-name{ font-size:2.5rem; letter-spacing:2px; color:var(--color-text-dark); font-family:var(--font-body); font-weight:600 }
    .date-day-number{ font-size:6rem; line-height:1; color:var(--color-olive) }
    /* === Countdown en una fila (4 columnas) + tarjetas visibles === */
#countdown{
  display: grid !important;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
}

.countdown-block{
  width: auto;
  min-height: 84px;
  padding: 12px 10px;
  border-radius: 12px;

  /* 👉 Activa las “tarjetas” */
  background: var(--color-beige);
  border: 1px solid rgba(85, 107, 47, 0.15); /* suave */
  box-shadow: 0 2px 6px rgba(0,0,0,0.06);

  display: grid;
  grid-template-rows: auto auto;
  place-items: center;
}

.countdown-block span{        /* número */
  font-size: 1.8rem;
  line-height: 1;
  color: var(--color-olive);
}
.countdown-block .label{      /* texto */
  font-size: .85rem;
  color: var(--color-text-dark);
}

@media (max-width: 360px){
  .countdown-block{ min-height: 72px; padding: 10px 8px; }
  .countdown-block span{ font-size: 1.5rem; }
  .countdown-block .label{ font-size: .8rem; }
}

    .boarding-pass-container{ background:var(--color-beige); border-radius:15px; padding:1.5rem; text-align:left; border:1px solid var(--color-eucalyptus); box-shadow:0 4px 15px rgba(0,0,0,.05); font-family:'Courier New',monospace; position:relative }
    .bp-header{ font-family:var(--font-title); font-size:1.5rem; color:var(--color-olive); border-bottom:1px dashed var(--color-olive); padding-bottom:1rem; margin-bottom:1rem; display:flex; justify-content:space-between; align-items:center }
    .bp-content{ display:grid; grid-template-columns:2fr 1fr; gap:1.5rem }
    .bp-label{ font-size:.8rem; color:var(--color-text-dark); letter-spacing:1px; display:block; margin-bottom:3px }
    .bp-data{ font-size:1.1rem; font-weight:600; color:#000; display:block; margin-bottom:1rem }
    .bp-barcode{ width:100%; height:40px; background:repeating-linear-gradient(90deg,#333 0,#333 3px,transparent 3px,transparent 5px) }
    @media(max-width:480px){ .bp-content{ grid-template-columns:1fr } }

    #gallery img{ width:100%; height:auto; border-radius:8px; max-height:500px; object-fit:cover; object-position:center 30% }

    #details{ display:grid; grid-template-columns:1fr; gap:2rem }
    @media(min-width:600px){ #details{ grid-template-columns:1fr 1fr } }
    .details-block{ padding:2rem; background:rgba(255,255,255,.5); border-radius:8px; border:1px solid var(--color-beige) }
    .details-icon{ font-size:3rem; color:var(--color-olive); margin-bottom:1rem }
    .details-title{ font-family:var(--font-title); font-size:2rem; color:var(--color-olive); margin-bottom:.5rem }
    .details-time,.details-place,.details-address{ font-size:1.1rem; margin-bottom:.5rem }
    .map-button{ display:inline-block; margin-top:1rem; padding:.8rem 1.5rem; background:var(--color-eucalyptus); color:var(--color-olive); text-decoration:none; border-radius:25px; font-weight:600 }
    .map-button:hover{ background:var(--color-olive); color:var(--color-cream) }

    .section-title{ font-family:var(--font-title); font-size:2.2rem; color:var(--color-olive); margin-bottom:1.5rem }
    .itinerary-list{ list-style:none; max-width:400px; margin:0 auto; text-align:left }
    .itinerary-list li{ padding:.8rem 0; border-bottom:1px dotted var(--color-eucalyptus); font-size:1.1rem }
    .itinerary-list li strong{ color:var(--color-olive); margin-right:1rem }

    .dress-code-icon{ font-size:3rem; color:var(--color-eucalyptus); margin-bottom:1rem }
    .dress-code-main{ font-size:1.5rem; font-weight:600; margin-bottom:.5rem }

    .rsvp-button{ display:inline-block; margin-top:1.5rem; padding:1rem 2.2rem; background:var(--color-olive); color:var(--color-cream); text-decoration:none; border-radius:8px; font-weight:700; font-size:1.1rem; font-family:var(--font-title) }
    .rsvp-button:hover{ background:var(--color-eucalyptus); color:var(--color-olive) }

    footer{ text-align:center; padding:2rem; background:var(--color-beige); color:var(--color-olive); font-family:var(--font-title); border-top:1px solid var(--color-eucalyptus) }

    /* ======= Decor helpers (mapa + ramas) ======= */

/* ——— Mapa mundial de fondo ——— */
.bg-world {
  position: relative;
}
.bg-world::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  /* 🌍 mejora: usa un filtro para dar más contraste y se ve más */
  background: url('img/world.svg') center/contain no-repeat;
  opacity: 0.15;                     /* antes 0.06 → ahora más visible */
  filter: brightness(0.8) contrast(1.1);
}

/* ——— Sección con hojas tipo “olivo” ——— */
.bg-olive {
  position: relative;
}

/* Hoja superior izquierda */
.bg-olive::after {
  content: "";
  position: absolute;
  top: -40px;
  left: -40px;
  width: 220px;
  height: 220px;
  pointer-events: none;
  opacity: 0.12;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath d='M20,20 C40,10 60,10 80,20 C70,40 50,60 30,70 C20,55 15,40 20,20 Z' fill='none' stroke='%23556B2F' stroke-width='2'/%3E%3C/svg%3E");
  background-size: contain;
  background-repeat: no-repeat;
}

/* Hoja inferior derecha */
.bg-olive::before {
  content: "";
  position: absolute;
  bottom: -30px;
  right: -25px;
  width: 160px;
  height: 160px;
  pointer-events: none;
  opacity: 0.1;
  transform: rotate(20deg);
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath d='M20,20 C40,10 60,10 80,20 C70,40 50,60 30,70 C20,55 15,40 20,20 Z' fill='none' stroke='%23556B2F' stroke-width='2'/%3E%3C/svg%3E");
  background-size: contain;
  background-repeat: no-repeat;
}

/* ——— Sección con hojas tipo “eucalipto” ——— */
.bg-euca {
  position: relative;
}

/* Hoja inferior derecha */
.bg-euca::after {
  content: "";
  position: absolute;
  bottom: -30px;
  right: -30px;
  width: 180px;
  height: 180px;
  pointer-events: none;
  opacity: 0.15;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath d='M50,95 C70,80 80,60 80,45 C80,30 70,10 50,5 C30,10 20,30 20,45 C20,60 30,80 50,95 Z' fill='none' stroke='%23556B2F' stroke-width='2'/%3E%3C/svg%3E");
  background-size: contain;
  background-repeat: no-repeat;
}

/* Hoja superior izquierda */
.bg-euca::before {
  content: "";
  position: absolute;
  top: -25px;
  left: -20px;
  width: 140px;
  height: 140px;
  pointer-events: none;
  opacity: 0.1;
  transform: rotate(-18deg);
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath d='M50,95 C70,80 80,60 80,45 C80,30 70,10 50,5 C30,10 20,30 20,45 C20,60 30,80 50,95 Z' fill='none' stroke='%23556B2F' stroke-width='2'/%3E%3C/svg%3E");
  background-size: contain;
  background-repeat: no-repeat;
}

/* ——— Clase opcional para agregar hojas desde el HTML ——— */
.with-leaves { position: relative; }

.leaf {
  position: absolute;
  width: 160px;
  height: 160px;
  opacity: 0.12;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath d='M20,20 C40,10 60,10 80,20 C70,40 50,60 30,70 C20,55 15,40 20,20 Z' fill='none' stroke='%23556B2F' stroke-width='2'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-size: contain;
  pointer-events: none;
  filter: blur(.2px);
}



     /* 12. SECCIÓN RSVP (Color de fondo cambiado) */
         .rsvp-section { 
             padding: 60px 20px; 
             background-color: rgba(90, 117, 90, 0.05); 
             border-top: 1px solid rgba(90, 117, 90, 0.1); 
         }
         .rsvp-section p { 
             color: var(--color-texto); 
         }
         .rsvp-section .btn { 
             background-color: var(--color-primario); 
             color: var(--color-texto-claro); 
             border-color: var(--color-primario); 
         }
         .rsvp-section .btn:hover { 
             background-color: var(--color-secundario);
             color: var(--color-primario);
             border-color: var(--color-secundario);
         }
  </style>
</head>
<body class="no-scroll">

  <!-- ========= PORTADA ========= -->
  <header class="passport-cover" id="cover">
    <div class="passport-names top">Anyela & Angel</div>
    <div class="passport-central-content">
      <div class="world-map-background-svg">
        <img src="img/world.svg" alt="Mapa del Mundo">
      </div>
      <div class="compass-svg">
        <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
          <path d="M50 0 L50 100 M0 50 L100 50 M14.6 14.6 L85.4 85.4 M14.6 85.4 L85.4 14.6 M50 2 A48 48 0 0 1 50 98 A48 48 0 0 1 50 2 z" stroke="currentColor" stroke-width="1.5" fill="none"/>
          <path d="M50 6 A44 44 0 0 1 50 94 A44 44 0 0 1 50 6 z" stroke="currentColor" stroke-width="1.5" fill="none"/>
          <path d="M50 10 L50 90 M10 50 L90 50 M21.2 21.2 L78.8 78.8 M21.2 78.8 L78.8 21.2" stroke="currentColor" stroke-width="1" fill="none" stroke-dasharray="2 2"/>
        </svg>
        <div class="twine-wrapper"><div class="twine-line"></div><div class="twine-line"></div></div>
      </div>
      <div class="plane-charm-button" id="fly-button">
        <img src="img/airplane-travel-heart-svgrepo-com.svg" alt="Avión decorativo" class="plane-svg">
      </div>
      <div class="passport-text-group">
        <div class="passport-word top">WEDDING</div>
        <div class="passport-word bottom">PASSPORT</div>
        <div class="passport-year">2026</div>
      </div>
    </div>
    <div class="scroll-down">Toca para abrir</div>
  </header>

  <!-- ========= INTERIOR ========= -->
  <main id="invitation-content">
    <section id="intro" class="section">
      <img src="https://picsum.photos/seed/anyela-angel/400/400" alt="Anyela y Angel">
      <h1 class="names-title">Anyela & Angel</h1>
      <p class="intro-phrase">“Nuestro viaje juntos comenzó hace tiempo, y ahora nos embarcamos en la aventura más grande. Con alegría y amor, te invitamos a ser testigo del inicio de nuestro 'para siempre'.”</p>
    </section>

    <section id="date-countdown" class="section bg-world bg-olive">
      <div class="date-container">
        <div class="date-top-line"><span class="date-month">JULIO</span><span class="date-year">2026</span></div>
        <div class="date-day-name">VIERNES</div>
        <div class="date-day-number">24</div>
      </div>
      <div id="countdown">
        <div class="countdown-block"><span id="days">00</span><div class="label">Días</div></div>
        <div class="countdown-block"><span id="hours">00</span><div class="label">Horas</div></div>
        <div class="countdown-block"><span id="minutes">00</span><div class="label">Minutos</div></div>
        <div class="countdown-block"><span id="seconds">00</span><div class="label">Segundos</div></div>
      </div>
    </section>

    <section id="boarding-pass" class="section">
      <div class="boarding-pass-container">
        <div class="bp-header"><span>Boarding Pass</span><i class="fa-solid fa-plane"></i></div>
        <div class="bp-content">
          <div class="bp-left">
            <span class="bp-label">PASAJERO / PASSENGER</span>
            <span class="bp-data" id="guestName">Nuestro Invitado Especial</span>
            <span class="bp-label">DESDE / FROM</span><span class="bp-data">NUESTRAS VIDAS</span>
            <span class="bp-label">VUELO / FLIGHT</span><span class="bp-data">A&A2407</span>
          </div>
          <div class="bp-right">
            <span class="bp-label">FECHA / DATE</span><span class="bp-data">24 JUL 2026</span>
            <span class="bp-label">A / TO</span><span class="bp-data">NUESTRA BODA</span>
            <span class="bp-label">ASIENTO / SEAT</span><span class="bp-data">VIP</span>
          </div>
        </div>
        <div class="bp-footer" style="margin-top:1rem"><div class="bp-barcode"></div></div>
      </div>
    </section>

    <section id="gallery" class="section">
      <img src="img/IMG_1939.JPG" alt="Anyela y Angel">
    </section>

    <section id="details" class="section bg-euca with-leaves">
      <div class="details-block">
        <div class="details-icon"><i class="fa-solid fa-church"></i></div>
        <h2 class="details-title">Ceremonia</h2>
        <div class="details-time">19:00 HS</div>
        <div class="details-place">Parroquia Santa Clara</div>
        <div class="details-address">Av. Gral. Rivera 2369, Montevideo</div>
        <a href="https://www.google.com/maps/dir//Parroquia+Inmaculada+Concepci%C3%B3n+de+Belgrano,+Vuelta+de+Obligado+2042,+C1428+ADF,+Cdad.+Aut%C3%B3noma+de+Buenos+Aires/@-34.5505757,-58.4712192,14z/" target="_blank" class="map-button">Ver Mapa</a>
      </div>
      <div class="details-block">
        <div class="details-icon"><i class="fa-solid fa-champagne-glasses"></i></div>
        <h2 class="details-title">Recepción</h2>
        <div class="details-time">21:00 HS</div>
        <div class="details-place">Quinta de Benavidez</div>
        <div class="details-address">Mendoza 3499, Benavidez, Provincia de Buenos Aires</div>
        <a href="https://www.google.com/maps/dir//Mendoza+3499,+Benavidez,+Provincia+de+Buenos+Aires/" target="_blank" class="map-button">Ver Mapa</a>
      </div>
    </section>

    <section id="itinerary" class="section bg-world">
      <h2 class="section-title">Itinerario de Vuelo</h2>
      <ul class="itinerary-list">
        <li><strong>19:00</strong> Despegue (Inicio de Ceremonia)</li>
        <li><strong>21:00</strong> Recepción</li>
        <li><strong>21:30</strong> Cena y Brindis</li>
        <li><strong>00:00</strong> ¡A Bailar!</li>
        <li><strong>...</strong> Aterrizaje (Fin del Evento)</li>
      </ul>
    </section>

    <section id="dress-code" class="section">
      <h2 class="section-title">Código de Vestimenta</h2>
      <div class="dress-code-icon"><i class="fa-solid fa-user-tie"></i></div>
      <div class="dress-code-main">Formal</div>
      <p>Tu presencia es nuestro mejor regalo. <br> Te sugerimos una vestimenta formal para esta noche de gala.</p>
    </section>

    <section id="rsvp" class="section">
      <h2 class="section-title">Confirmar Asistencia</h2>
      <p>Es fundamental para nosotros que hagas tu 'check-in' a tiempo.</p>
      <a href="rsvp.html" class="rsvp-button" id="btnRSVP">Hacer Check‑In (RSVP)</a>
    </section>

    <section id="travel-info" class="section bg-world">
      <h2 class="section-title">Información de Viaje</h2>
      <p>Para nuestros queridos invitados que nos acompañan desde el extranjero, recomendamos revisar los requisitos de ingreso al país con anticipación.</p>
      <p style="margin-top:1rem;"><a href="https://www.argentina.gob.ar/interior/migraciones/documentacion-para-ingresar-al-pais-como-turista" target="_blank">Ver Requisitos (Migraciones)</a></p>
    </section>
  </main>

  <footer>
    <div style="font-size:1.5rem; font-family:'Dancing Script',cursive;">A&A</div>
    <div style="font-family:var(--font-body); font-size:.9rem; margin-top:.5rem;">¡Gracias por volar con nosotros!</div>
  </footer>


  <script>
    // ===== Portada: abrir al tocar en cualquier parte =====
    document.addEventListener('DOMContentLoaded', () => {
      const cover = document.getElementById('cover');
      const flyBtn = document.getElementById('fly-button');
      const content = document.getElementById('invitation-content');
      const twine = document.querySelector('.twine-wrapper');
      const compass = document.querySelector('.compass-svg');
      const worldBG = document.querySelector('.world-map-background-svg');

      document.documentElement.classList.add('no-scroll');
      document.body.classList.add('no-scroll');

      const openInvite = () => {
        if (flyBtn){ flyBtn.classList.add('is-flying'); }
        if (twine) twine.style.opacity = '0';
        if (compass) compass.style.opacity = '0';
        if (worldBG) worldBG.style.opacity = '0';
        cover.classList.add('is-open');
        setTimeout(() => {
          cover.style.display='none';
          content.classList.add('is-visible');
          document.documentElement.classList.remove('no-scroll');
          document.body.classList.remove('no-scroll');
        }, 1200);
      };

      cover.addEventListener('click', openInvite);
      if (flyBtn) flyBtn.addEventListener('click', (e)=>{ e.stopPropagation(); openInvite(); });
    });

    // ===== Countdown =====
    (function(){
      const weddingDate = new Date("2026-07-24T18:00:00").getTime();
      const ids = ["days","hours","minutes","seconds"];
      const pad = n => String(Math.max(0,n)).padStart(2,'0');
      setInterval(() => {
        const now = Date.now();
        const d = weddingDate - now;
        const vals = [
          Math.floor(d / (1000*60*60*24)),
          Math.floor((d % (1000*60*60*24)) / (1000*60*60)),
          Math.floor((d % (1000*60*60)) / (1000*60)),
          Math.floor((d % (1000*60)) / 1000)
        ];
        ids.forEach((id,i)=>{ const el=document.getElementById(id); if(el) el.textContent=pad(vals[i]); });
        if (d<0){ const c=document.getElementById('countdown'); if(c) c.innerHTML="<div style='font-size:1.5rem;font-family:var(--font-title);'>¡Llegó el gran día!</div>"; }
      },1000);
    })();

     // --- SCRIPT PARA TOKEN (RSVP Y NOMBRE DE INVITADO) ---
        (async function() {
            const qp = new URLSearchParams(location.search);
            const token = qp.get('t') || '';
            const rsvpHref = `rsvp.html?t=${encodeURIComponent(token)}`;
            const rsvpButton = document.getElementById("btnRSVP");
            
            if (rsvpButton) { 
                rsvpButton.href = rsvpHref; 
            }
            
            if (token) {
                try {
                    const res = await fetch('guests.json', { cache: 'default' }); 
                    if (!res.ok) throw new Error('No se pudo cargar guests.json');
                    const db = await res.json();
                    const guest = db[token];
                    
                    if (guest && guest.names && guest.names.length > 0) {
                        const formattedName = guest.names.join(' & ');
                        const guestElement = document.getElementById("guestName");
                        if (guestElement && formattedName) { 
                            guestElement.textContent = formattedName; 
                        }
                    }
                } catch (error) { 
                    console.error("Error al cargar datos de invitado:", error); 
                }
            }
        })();
    </script>

  <script src="sw.js"></script>

